import type { McpUiRequestDisplayModeResult } from "@modelcontextprotocol/ext-apps";
import type { Adaptor, CallToolResponse, DisplayMode, HostContext, HostContextStore, RequestModalOptions, SetWidgetStateAction } from "../types.js";
export declare class McpAppAdaptor implements Adaptor {
    private static instance;
    private stores;
    private _widgetState;
    private widgetStateListeners;
    private _viewState;
    private viewListeners;
    private constructor();
    static getInstance(): McpAppAdaptor;
    static resetInstance(): void;
    getHostContextStore<K extends keyof HostContext>(key: K): HostContextStore<K>;
    callTool: <ToolArgs extends Record<string, unknown> | null = null, ToolResponse extends CallToolResponse = CallToolResponse>(name: string, args: ToolArgs) => Promise<ToolResponse>;
    requestDisplayMode: (mode: DisplayMode) => Promise<McpUiRequestDisplayModeResult>;
    sendFollowUpMessage: (prompt: string) => Promise<void>;
    openExternal(href: string): void;
    private initializeStores;
    setWidgetState: (stateOrUpdater: SetWidgetStateAction) => Promise<void>;
    /**
     * @throws File upload is not supported in MCP App.
     */
    uploadFile(): Promise<{
        fileId: string;
    }>;
    /**
     * @throws File download is not supported in MCP App.
     */
    getFileDownloadUrl(): Promise<{
        downloadUrl: string;
    }>;
    openModal(options: RequestModalOptions): void;
    closeModal(): void;
    setOpenInAppUrl(_href: string): Promise<void>;
    private createHostContextStore;
}
