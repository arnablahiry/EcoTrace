import { type CallToolArgs, type CallToolResponse } from "../bridges/index.js";
import type { HasRequiredKeys } from "../types.js";
type CallToolIdleState = {
    status: "idle";
    isIdle: true;
    isPending: false;
    isSuccess: false;
    isError: false;
    data: undefined;
    error: undefined;
};
type CallToolPendingState = {
    status: "pending";
    isIdle: false;
    isPending: true;
    isSuccess: false;
    isError: false;
    data: undefined;
    error: undefined;
};
type CallToolSuccessState<TData extends CallToolResponse = CallToolResponse> = {
    status: "success";
    isIdle: false;
    isPending: false;
    isSuccess: true;
    isError: false;
    data: TData;
    error: undefined;
};
type CallToolErrorState = {
    status: "error";
    isIdle: false;
    isPending: false;
    isSuccess: false;
    isError: true;
    data: undefined;
    error: unknown;
};
export type CallToolState<TData extends CallToolResponse = CallToolResponse> = CallToolIdleState | CallToolPendingState | CallToolSuccessState<TData> | CallToolErrorState;
export type SideEffects<ToolArgs, ToolResponse> = {
    onSuccess?: (data: ToolResponse, toolArgs: ToolArgs) => void;
    onError?: (error: unknown, toolArgs: ToolArgs) => void;
    onSettled?: (data: ToolResponse | undefined, error: unknown | undefined, toolArgs: ToolArgs) => void;
};
type IsArgsOptional<T> = [T] extends [null] ? true : HasRequiredKeys<T> extends false ? true : false;
export type CallToolFn<TArgs, TResponse> = IsArgsOptional<TArgs> extends true ? {
    (): void;
    (sideEffects: SideEffects<TArgs, TResponse>): void;
    (args: TArgs): void;
    (args: TArgs, sideEffects: SideEffects<TArgs, TResponse>): void;
} : {
    (args: TArgs): void;
    (args: TArgs, sideEffects: SideEffects<TArgs, TResponse>): void;
};
export type CallToolAsyncFn<TArgs, TResponse> = IsArgsOptional<TArgs> extends true ? {
    (): Promise<TResponse>;
    (args: TArgs): Promise<TResponse>;
} : (args: TArgs) => Promise<TResponse>;
type ToolResponseSignature = Pick<CallToolResponse, "structuredContent" | "meta">;
export declare const useCallTool: <ToolArgs extends CallToolArgs = null, ToolResponse extends Partial<ToolResponseSignature> = Record<string, never>>(name: string) => {
    callTool: CallToolFn<ToolArgs, CallToolResponse & ToolResponse>;
    callToolAsync: CallToolAsyncFn<ToolArgs, CallToolResponse & ToolResponse>;
    status: "idle";
    isIdle: true;
    isPending: false;
    isSuccess: false;
    isError: false;
    data: undefined;
    error: undefined;
} | {
    callTool: CallToolFn<ToolArgs, CallToolResponse & ToolResponse>;
    callToolAsync: CallToolAsyncFn<ToolArgs, CallToolResponse & ToolResponse>;
    status: "pending";
    isIdle: false;
    isPending: true;
    isSuccess: false;
    isError: false;
    data: undefined;
    error: undefined;
} | {
    callTool: CallToolFn<ToolArgs, CallToolResponse & ToolResponse>;
    callToolAsync: CallToolAsyncFn<ToolArgs, CallToolResponse & ToolResponse>;
    status: "error";
    isIdle: false;
    isPending: false;
    isSuccess: false;
    isError: true;
    data: undefined;
    error: unknown;
} | {
    callTool: CallToolFn<ToolArgs, CallToolResponse & ToolResponse>;
    callToolAsync: CallToolAsyncFn<ToolArgs, CallToolResponse & ToolResponse>;
    status: "success";
    isIdle: false;
    isPending: false;
    isSuccess: true;
    isError: false;
    data: CallToolResponse & ToolResponse;
    error: undefined;
};
export {};
