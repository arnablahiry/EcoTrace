import { expectTypeOf, test } from "vitest";
import { useToolInfo } from "./use-tool-info.js";
test("useToolInfo - TypeScript typing", () => {
    test("should have correct types when no generic parameter is provided", () => {
        const result = useToolInfo();
        expectTypeOf(result.status);
        expectTypeOf(result.isPending);
        expectTypeOf(result.isSuccess);
        expectTypeOf(result.isIdle);
        expectTypeOf(result.input);
    });
    test("should correctly type input, output, and responseMetadata with explicit ToolSignature", () => {
        const result = useToolInfo();
        // When idle, input should be undefined
        if (result.status === "idle") {
            expectTypeOf(result.input);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
        // When pending, output and responseMetadata should be undefined
        if (result.status === "pending") {
            expectTypeOf(result.input);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
        // When success, output and responseMetadata should be defined
        if (result.status === "success") {
            expectTypeOf(result.input);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
    });
    test("should correctly narrow types based on status discriminated union", () => {
        const result = useToolInfo();
        // Test type narrowing for idle
        if (result.isIdle) {
            expectTypeOf(result.status);
            expectTypeOf(result.isIdle);
            expectTypeOf(result.isPending);
            expectTypeOf(result.isSuccess);
            expectTypeOf(result.input);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
        // Test type narrowing for pending
        if (result.isPending) {
            expectTypeOf(result.status);
            expectTypeOf(result.isIdle);
            expectTypeOf(result.isPending);
            expectTypeOf(result.isSuccess);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
        if (result.isSuccess) {
            expectTypeOf(result.status);
            expectTypeOf(result.isIdle);
            expectTypeOf(result.isPending);
            expectTypeOf(result.isSuccess);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
        if (result.status === "idle") {
            expectTypeOf(result.isIdle);
            expectTypeOf(result.isPending);
            expectTypeOf(result.isSuccess);
            expectTypeOf(result.input);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
        if (result.status === "pending") {
            expectTypeOf(result.input);
            expectTypeOf(result.isIdle);
            expectTypeOf(result.isPending);
            expectTypeOf(result.isSuccess);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
        if (result.status === "success") {
            expectTypeOf(result.input);
            expectTypeOf(result.isIdle);
            expectTypeOf(result.isPending);
            expectTypeOf(result.isSuccess);
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
    });
    test("should handle partial ToolSignature with only input specified", () => {
        const result = useToolInfo();
        // Input can be TestInput or undefined (when idle)
        if (result.status === "pending" || result.status === "success") {
            expectTypeOf(result.input);
        }
        if (result.status === "success") {
            expectTypeOf(result.output);
            expectTypeOf(result.responseMetadata);
        }
    });
    test("should handle ToolSignature with only output specified", () => {
        const result = useToolInfo();
        // Input can be Record<string, unknown> or undefined (when idle)
        if (result.status === "pending" || result.status === "success") {
            expectTypeOf(result.input);
        }
        if (result.status === "success") {
            expectTypeOf(result.output);
        }
    });
});
//# sourceMappingURL=use-tool-info.test-d.js.map